<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h5 class="mb-0">Results Overview</h5>
    <button 
      type="button" 
      class="btn btn-outline-primary btn-sm"
      {{on "click" this.refreshResults}}
      disabled={{this.isLoading}}
    >
      {{#if this.isLoading}}
        <span class="spinner-border spinner-border-sm me-1" role="status"></span>
      {{else}}
        <i class="bi bi-arrow-clockwise me-1"></i>
      {{/if}}
      Refresh
    </button>
  </div>
  
  <div class="card-body">
    {{#if this.hasAnyResults}}
      <div class="row mb-4">
        <div class="col-12">
          <div class="alert alert-info">
            <strong>Total Responses:</strong> {{this.totalResponses}} across all voting methods
          </div>
        </div>
      </div>
      
      <div class="row">
        {{#each this.resultsData as |scenarioData|}}
          <div class="col-md-12 mb-4">
            <ScenarioChart 
              @scenario={{scenarioData.scenario}}
              @title={{scenarioData.title}}
              @responses={{scenarioData.responses}}
              @count={{scenarioData.count}}
            />
          </div>
        {{/each}}
      </div>
    {{else}}
      <div class="text-center text-muted py-5">
        {{#if this.isLoading}}
          <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading results...</span>
          </div>
          <p class="mt-3">Loading results...</p>
        {{else}}
          <i class="bi bi-bar-chart display-4 text-muted"></i>
          <p class="mt-3">No responses yet. Results will appear here as participants submit their answers.</p>
        {{/if}}
      </div>
    {{/if}}
  </div>
</div>